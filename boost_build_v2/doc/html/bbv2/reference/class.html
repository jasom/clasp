<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Builtin classes</title>
<link rel="stylesheet" href="../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
<link rel="start" href="../../index.html" title="Boost.Build V2 User Manual">
<link rel="up" href="../reference.html" title="Chapter 6. Reference">
<link rel="prev" href="modules.html" title="Builtin modules">
<link rel="next" href="buildprocess.html" title="Build process">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../../boost.png"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="modules.html"><img src="../../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../reference.html"><img src="../../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="buildprocess.html"><img src="../../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="bbv2.reference.class"></a>Builtin classes</h2></div></div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="class.html#bbv2.reference.class.abstract-target">Class abstract-target</a></span></dt>
<dt><span class="section"><a href="class.html#bbv2.reference.class.project-target">Class project-target</a></span></dt>
<dt><span class="section"><a href="class.html#bbv2.reference.class.main-target">Class main-target</a></span></dt>
<dt><span class="section"><a href="class.html#bbv2.reference.class.basic-target">Class basic-target</a></span></dt>
<dt><span class="section"><a href="class.html#bbv2.reference.class.typed-target">Class typed-target</a></span></dt>
<dt><span class="section"><a href="class.html#bbv2.reference.class.property-set">Class property-set</a></span></dt>
</dl></div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="bbv2.reference.class.abstract-target"></a>Class abstract-target</h3></div></div></div>
<a class="indexterm" name="idp3772664"></a><p>
    Base class for all abstract targets.
  </p>
<pre class="programlisting">
class abstract-target {
    rule <a href="class.html#bbv2.reference.class.abstract-target.__init__">__init__</a> ( name : project )
    rule <a href="class.html#bbv2.reference.class.abstract-target.name">name</a> ( )
    rule <a href="class.html#bbv2.reference.class.abstract-target.project">project</a> ( )
    rule <a href="class.html#bbv2.reference.class.abstract-target.location">location</a> ( )
    rule <a href="class.html#bbv2.reference.class.abstract-target.full-name">full-name</a> ( )
    rule <a href="class.html#bbv2.reference.class.abstract-target.__init__">generate</a> ( property-set )
}
</pre>
<p>
    Classes derived from <a href="class.html#bbv2.reference.class.abstract-target" title="Class abstract-target">abstract-target</a>:
    </p>
<div class="itemizedlist"><ul type="disc">
<li><a href="class.html#bbv2.reference.class.project-target" title="Class project-target">project-target</a></li>
<li><a href="class.html#bbv2.reference.class.main-target" title="Class main-target">main-target</a></li>
<li><a href="class.html#bbv2.reference.class.project-target" title="Class project-target">basic-target</a></li>
</ul></div>
<p>
  </p>
<div class="orderedlist"><ol type="1">
<li>
<a name="bbv2.reference.class.abstract-target.__init__"></a><code class="computeroutput">rule __init__ ( name : project )</code><p>
        </p>
<div class="variablelist"><dl>
<dt><span class="term"><code class="literal">name</code></span></dt>
<dd><p>The name of the target in the Jamfile.</p></dd>
<dt><span class="term"><code class="literal">project</code></span></dt>
<dd><p>The <a href="class.html#bbv2.reference.class.project-target" title="Class project-target">project</a> to which this target belongs.</p></dd>
</dl></div>
<p>
      </p>
</li>
<li>
<a name="bbv2.reference.class.abstract-target.name"></a><a class="indexterm" name="idp3784800"></a><code class="computeroutput">rule name ( )</code><p>Returns the name of this target.</p>
</li>
<li>
<a name="bbv2.reference.class.abstract-target.project"></a><a class="indexterm" name="idp3786992"></a><code class="computeroutput">rule project ( )</code><p>Returns the <a href="class.html#bbv2.reference.class.project-target" title="Class project-target">project</a> for this target.</p>
</li>
<li>
<a name="bbv2.reference.class.abstract-target.location"></a><a class="indexterm" name="idp3789672"></a><code class="computeroutput">rule location ( )</code><p>Returns the location where the target was declared.</p>
</li>
<li>
<a name="bbv2.reference.class.abstract-target.full-name"></a><a class="indexterm" name="idp3791800"></a><code class="computeroutput">rule full-name ( )</code><p>Returns a user-readable name for this target.</p>
</li>
<li>
<a name="bbv2.reference.class.abstract-target.generate"></a><a class="indexterm" name="idp3794024"></a><code class="computeroutput">rule generate ( property-set )</code><p>
        Generates virtual targets for this abstract target using the specified
        properties, unless a different value of some feature is required by the
        target.  This is an abstract method which must be overriden by derived
        classes.
      </p>
<p>
        On success, returns:
        </p>
<div class="itemizedlist"><ul type="disc">
<li>a property-set with the usage requirements to be applied to dependents</li>
<li>a list of produced virtual targets, which may be empty.</li>
</ul></div>
<p>
        If <code class="computeroutput">property-set</code> is empty, performs the
        default build of this target, in a way specific to the derived class.
      </p>
</li>
</ol></div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="bbv2.reference.class.project-target"></a>Class project-target</h3></div></div></div>
<a class="indexterm" name="idp3798304"></a><pre class="programlisting">
class project-target : <a href="class.html#bbv2.reference.class.abstract-target" title="Class abstract-target">abstract-target</a> {
    rule <a href="class.html#bbv2.reference.class.project-target.generate">generate</a> ( property-set )
    rule <a href="class.html#bbv2.reference.class.project-target.build-dir">build-dir</a> ( )
    rule <a href="class.html#bbv2.reference.class.project-target.main-target">main-target</a> ( name )
    rule <a href="class.html#bbv2.reference.class.project-target.has-main-target">has-main-target</a> ( name )
    rule <a href="class.html#bbv2.reference.class.project-target.find">find</a> ( id : no-error ? )

    # Methods inherited from <a href="class.html#bbv2.reference.class.abstract-target" title="Class abstract-target">abstract-target</a>
    rule <a href="class.html#bbv2.reference.class.abstract-target.name">name</a> ( )
    rule <a href="class.html#bbv2.reference.class.abstract-target.project">project</a> ( )
    rule <a href="class.html#bbv2.reference.class.abstract-target.location">location</a> ( )
    rule <a href="class.html#bbv2.reference.class.abstract-target.full-name">full-name</a> ( )
}
</pre>
<p>
    This class has the following responsibilities:
    </p>
<div class="itemizedlist"><ul type="disc"><li><p>
          Maintaining a list of main targets in this project and building them.
        </p></li></ul></div>
<p>
  </p>
<div class="orderedlist"><ol type="1">
<li>
<a name="bbv2.reference.class.project-target.generate"></a><a class="indexterm" name="idp3806880"></a><code class="computeroutput">rule generate ( property-set )</code><p>
        Overrides
        <a href="class.html#bbv2.reference.class.abstract-target.generate">abstract-target.generate</a>.

        Generates virtual targets for all the targets contained in this project.
      </p>
<p>
        On success, returns:
        </p>
<div class="itemizedlist"><ul type="disc">
<li>a property-set with the usage requirements to be applied to dependents</li>
<li>a list of produced virtual targets, which may be empty.</li>
</ul></div>
<p>
      </p>
</li>
<li>
<a name="bbv2.reference.class.project-target.build-dir"></a><a class="indexterm" name="idp3810576"></a><code class="computeroutput">rule build-dir ( )</code><p>
        Returns the root build directory of the project.
      </p>
</li>
<li>
<a name="bbv2.reference.class.project-target.main-target"></a><a class="indexterm" name="idp3812848"></a><code class="computeroutput">rule main-target ( name )</code><p>
        Returns a <a href="class.html#bbv2.reference.class.main-target" title="Class main-target">main-target</a>
        class instance corresponding to <code class="literal">name</code>.
        Can only be called after the project has been fully loaded.
      </p>
</li>
<li>
<a name="bbv2.reference.class.project-target.has-main-target"></a><a class="indexterm" name="idp3815952"></a><code class="computeroutput">rule has-main-target ( name )</code><p>
        Returns whether a <a href="class.html#bbv2.reference.class.main-target" title="Class main-target">main-target</a>
        with the specified name exists.
        Can only be called after the project has been fully loaded.
      </p>
</li>
<li>
<a name="bbv2.reference.class.project-target.find"></a><a class="indexterm" name="idp3818704"></a><code class="computeroutput">rule find ( id : no-error ? )</code><p>
        Find and return the target with the specified id, treated relative to
        self. Id may specify either a target or a file name with the target taking
        priority. May report an error or return nothing if the target is not found
        depending on the <code class="literal">no-error</code> parameter.
      </p>
</li>
</ol></div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="bbv2.reference.class.main-target"></a>Class main-target</h3></div></div></div>
<a class="indexterm" name="idp3821840"></a><pre class="programlisting">
class main-target : <a href="class.html#bbv2.reference.class.abstract-target" title="Class abstract-target">abstract-target</a> {
    rule <a href="class.html#bbv2.reference.class.main-target.generate">generate</a> ( property-set )

    # Methods inherited from <a href="class.html#bbv2.reference.class.abstract-target" title="Class abstract-target">abstract-target</a>
    rule <a href="class.html#bbv2.reference.class.abstract-target.name">name</a> ( )
    rule <a href="class.html#bbv2.reference.class.abstract-target.project">project</a> ( )
    rule <a href="class.html#bbv2.reference.class.abstract-target.location">location</a> ( )
    rule <a href="class.html#bbv2.reference.class.abstract-target.full-name">full-name</a> ( )
}
</pre>
<p>
    A <a href="class.html#bbv2.reference.class.main-target" title="Class main-target">main-target</a>
    represents a named top-level target in a Jamfile.
  </p>
<div class="orderedlist"><ol type="1"><li>
<a name="bbv2.reference.class.main-target.generate"></a><a class="indexterm" name="idp3827888"></a><code class="computeroutput">rule generate ( property-set )</code><p>
        Overrides
        <a href="class.html#bbv2.reference.class.abstract-target.generate">abstract-target.generate</a>.
        
        Select an alternative for this main target, by finding all alternatives
        whose requirements are satisfied by <code class="literal">property-set</code> and
        picking the one with the longest requirements set. Returns the result
        of calling <a href="class.html#bbv2.reference.class.basic-target.generate">generate</a>
        on that alternative.
      </p>
<p>
        On success, returns:
        </p>
<div class="itemizedlist"><ul type="disc">
<li>a property-set with the usage requirements to be applied to dependents</li>
<li>a list of produced virtual targets, which may be empty.</li>
</ul></div>
<p>
      </p>
</li></ol></div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="bbv2.reference.class.basic-target"></a>Class basic-target</h3></div></div></div>
<a class="indexterm" name="idp3832936"></a><pre class="programlisting">
class basic-target : <a href="class.html#bbv2.reference.class.abstract-target" title="Class abstract-target">abstract-target</a> {
    rule <a href="class.html#bbv2.reference.class.basic-target.__init__">__init__</a> ( name : project : sources * : requirements * : default-build * : usage-requirements * )  
    rule <a href="class.html#bbv2.reference.class.basic-target.generate">generate</a> ( property-set )
    rule <a href="class.html#bbv2.reference.class.basic-target.construct">construct</a> ( name : source-targets * : property-set )

    # Methods inherited from <a href="class.html#bbv2.reference.class.abstract-target" title="Class abstract-target">abstract-target</a>
    rule <a href="class.html#bbv2.reference.class.abstract-target.name">name</a> ( )
    rule <a href="class.html#bbv2.reference.class.abstract-target.project">project</a> ( )
    rule <a href="class.html#bbv2.reference.class.abstract-target.location">location</a> ( )
    rule <a href="class.html#bbv2.reference.class.abstract-target.full-name">full-name</a> ( )
}
</pre>
<p>
    Implements the most standard way of constructing main target alternative from
    sources. Allows sources to be either files or other main targets and handles
    generation of those dependency targets. 
    
  </p>
<div class="orderedlist"><ol type="1">
<li>
<a name="bbv2.reference.class.basic-target.__init__"></a><code class="computeroutput">rule __init__ ( name : project : sources * : requirements * : default-build * : usage-requirements * )</code><p>
        </p>
<div class="variablelist"><dl>
<dt><span class="term"><code class="literal">name</code></span></dt>
<dd><p>The name of the target</p></dd>
<dt><span class="term"><code class="literal">project</code></span></dt>
<dd><p>
                The <a href="class.html#bbv2.reference.class.project-target" title="Class project-target">project</a>
                in which the target is declared.
              </p></dd>
</dl></div>
<p>
      </p>
</li>
<li>
<a name="bbv2.reference.class.basic-target.generate"></a><a class="indexterm" name="idp3843688"></a><code class="computeroutput">rule generate ( property-set )</code><p>
        Overrides
        <a href="class.html#bbv2.reference.class.abstract-target.generate">abstract-target.generate</a>.

        Determines final build properties, generates sources, and calls
        <a href="class.html#bbv2.reference.class.basic-target.construct">construct</a>.
        This method should not be overridden.
      </p>
<p>
        On success, returns:
        </p>
<div class="itemizedlist"><ul type="disc">
<li>a property-set with the usage requirements to be applied to dependents</li>
<li>a list of produced virtual targets, which may be empty.</li>
</ul></div>
<p>
      </p>
</li>
<li>
<a name="bbv2.reference.class.basic-target.construct"></a><a class="indexterm" name="idp3847848"></a><code class="computeroutput">rule construct ( name : source-targets * : property-set )</code><p>
        Constructs virtual targets for this abstract target. Returns a
        usage-requirements property-set and a list of virtual
        targets. Should be overriden in derived classes.
      </p>
</li>
</ol></div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="bbv2.reference.class.typed-target"></a>Class typed-target</h3></div></div></div>
<a class="indexterm" name="idp3850600"></a><pre class="programlisting">
class typed-target : <a href="class.html#bbv2.reference.class.basic-target" title="Class basic-target">basic-target</a> {
    rule <a href="class.html#bbv2.reference.class.typed-target.__init__">__init__</a> ( name : project : type : sources * : requirements * : default-build * : usage-requirements * ) 
    rule <a href="class.html#bbv2.reference.class.typed-target.type">type</a> ( )
    rule <a href="class.html#bbv2.reference.class.typed-target.construct">construct</a> ( name : source-targets * : property-set )

    # Methods inherited from <a href="class.html#bbv2.reference.class.abstract-target" title="Class abstract-target">abstract-target</a>
    rule <a href="class.html#bbv2.reference.class.abstract-target.name">name</a> ( )
    rule <a href="class.html#bbv2.reference.class.abstract-target.project">project</a> ( )
    rule <a href="class.html#bbv2.reference.class.abstract-target.location">location</a> ( )
    rule <a href="class.html#bbv2.reference.class.abstract-target.full-name">full-name</a> ( )
    
    # Methods inherited from <a href="class.html#bbv2.reference.class.basic-target" title="Class basic-target">basic-target</a>
    rule <a href="class.html#bbv2.reference.class.basic-target.generate">generate</a> ( property-set )
  }
</pre>
<p>
    <a href="class.html#bbv2.reference.class.typed-target" title="Class typed-target">typed-target</a>
    is the most common kind of target alternative.  Rules for creating
    typed targets are defined automatically for each type.
  </p>
<div class="orderedlist"><ol type="1">
<li>
<a name="bbv2.reference.class.typed-target.__init__"></a><code class="computeroutput">rule __init__ ( name : project : type : sources * : requirements * : default-build * : usage-requirements * )</code><p>
        </p>
<div class="variablelist"><dl>
<dt><span class="term"><code class="literal">name</code></span></dt>
<dd><p>The name of the target</p></dd>
<dt><span class="term"><code class="literal">project</code></span></dt>
<dd><p>
                The <a href="class.html#bbv2.reference.class.project-target" title="Class project-target">project</a>
                in which the target is declared.
              </p></dd>
<dt><span class="term"><code class="literal">type</code></span></dt>
<dd><p>
                The <a href="modules.html#bbv2.reference.modules.type" title="type">type</a>
                of the target.
              </p></dd>
</dl></div>
<p>
      </p>
</li>
<li>
<a name="bbv2.reference.class.typed-target.type"></a><a class="indexterm" name="idp3864424"></a><code class="computeroutput">rule type ( )</code><p>
        Returns the <a href="modules.html#bbv2.reference.modules.type" title="type">type</a>
        of the target.
      </p>
</li>
<li>
<a name="bbv2.reference.class.typed-target.construct"></a><a class="indexterm" name="idp3866968"></a><code class="computeroutput">rule construct ( name : source-targets * : property-set )</code><p>
        Implements <a href="class.html#bbv2.reference.class.basic-target.construct">
        basic-target.construct</a>.  Attempts to create a target of
        the correct type using generators appropriate for the given
        <a href="class.html#bbv2.reference.class.property-set" title="Class property-set">property-set</a>.
        Returns a <a href="class.html#bbv2.reference.class.property-set" title="Class property-set">
        property-set</a> containing the usage requirements
        and a list of virtual targets.
        
        </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../../../../../../doc/html/images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
            This function is invoked automatically by
            <a href="class.html#bbv2.reference.class.basic-target.generate">basic-target.generate</a>
            and should not be called directly by users.
          </p></td></tr>
</table></div>
<p>
      </p>
</li>
</ol></div>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="bbv2.reference.class.property-set"></a>Class property-set</h3></div></div></div>
<a class="indexterm" name="idp3872208"></a><p>Class for storing a set of properties.</p>
<pre class="programlisting">
class property-set {
    rule <a href="class.html#bbv2.reference.class.property-set.raw">raw</a> ( )
    rule <a href="class.html#bbv2.reference.class.property-set.str">str</a> ( )
    rule <a href="class.html#bbv2.reference.class.property-set.propagated">propagated</a> ( )
    rule <a href="class.html#bbv2.reference.class.property-set.add">add</a> ( ps )
    rule <a href="class.html#bbv2.reference.class.property-set.add-raw">add-raw</a> ( properties * )
    rule <a href="class.html#bbv2.reference.class.property-set.refine">refine</a> ( ps )
    rule <a href="class.html#bbv2.reference.class.property-set.get">get</a> ( feature )
}
</pre>
<p>
    There is 1&lt;-&gt;1 correspondence between identity and value. No two instances
    of the class are equal. To maintain this property, the 'property-set.create'
    rule should be used to create new instances. Instances are immutable.
  </p>
<div class="orderedlist"><ol type="1">
<li>
<a name="bbv2.reference.class.property-set.raw"></a><a class="indexterm" name="idp3878776"></a><code class="computeroutput">rule raw ( )</code><p>Returns a Jam list of the stored properties.</p>
</li>
<li>
<a name="bbv2.reference.class.property-set.str"></a><a class="indexterm" name="idp3880896"></a><code class="computeroutput">rule str ( )</code><p>Returns the string repesentation of the stored properties.</p>
</li>
<li>
<a name="bbv2.reference.class.property-set.propagated"></a><a class="indexterm" name="idp3883096"></a><code class="computeroutput">rule propagated ( )</code><p>
        Returns a <a href="class.html#bbv2.reference.class.property-set" title="Class property-set">property-set</a>
        containing all the <a href="definitions.html#bbv2.reference.features.attributes.propagated">propagated</a>
        properties in this <a href="class.html#bbv2.reference.class.property-set" title="Class property-set">property-set</a>.
      </p>
</li>
<li>
<a name="bbv2.reference.class.property-set.add"></a><a class="indexterm" name="idp3886688"></a><code class="computeroutput">rule add ( ps )</code><p>
        Returns a new <a href="class.html#bbv2.reference.class.property-set" title="Class property-set">
        property-set</a> containing the union of the properties
        in this <a href="class.html#bbv2.reference.class.property-set" title="Class property-set">
        property-set</a> and in <code class="literal">ps</code>.
        </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../../../../../../../doc/html/images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
            If <code class="literal">ps</code> contains non-free properties
            that should override the values in this object, use
            <a href="class.html#bbv2.reference.class.property-set.refine">
            refine</a> instead.
          </p></td></tr>
</table></div>
<p>
      </p>
</li>
<li>
<a name="bbv2.reference.class.property-set.add-raw"></a><a class="indexterm" name="idp3891488"></a><code class="computeroutput">rule add-raw ( properties * )</code><p>
        Link <a href="class.html#bbv2.reference.class.property-set.add">
        add</a>, except that it takes a list of properties
        instead of a <a href="class.html#bbv2.reference.class.property-set" title="Class property-set">
        property-set</a>.
      </p>
</li>
<li>
<a name="bbv2.reference.class.property-set.refine"></a><a class="indexterm" name="idp3894664"></a><code class="computeroutput">rule refine ( ps )</code><p>
        Refines properties by overriding any non-free and non-conditional
        properties for which a different value is specified in
        <code class="literal">ps</code>. Returns the resulting
        <a href="class.html#bbv2.reference.class.property-set" title="Class property-set">property-set</a>.
      </p>
</li>
<li>
<a name="bbv2.reference.class.property-set.get"></a><a class="indexterm" name="idp3897736"></a><code class="computeroutput">rule get ( feature )</code><p>
        Returns all the values of <code class="literal">feature</code>.
      </p>
</li>
</ol></div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright © 2006-2009 Vladimir Prus<p>Distributed under the Boost Software License, Version 1.0.
      (See accompanying file <code class="filename">LICENSE_1_0.txt</code> or copy at 
      <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="modules.html"><img src="../../../../../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="../reference.html"><img src="../../../../../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="buildprocess.html"><img src="../../../../../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>
